<!DOCTYPE html> <html> <head> <meta charset="UTF-8" /> <title>CROSTAFF スキャン</title> <script src="https://unpkg.com/html5-qrcode"></script> <style> body { font-family: sans-serif; text-align: center; } #reader { width: 300px; margin: auto; } </style> </head> <body> <h2>控え室B：スキャン画面</h2> <div id="reader"></div> <p id="result">スキャン待機中…</p> <script> const ROOM_NAME = "控え室B"; // 部屋名はここで変更 const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxAbXOtOVHsm8qZw3PJOAOVkR4yIaLpHL0q1IFQxziJX7ar1jOxtJsAu7f6te5ePB44jg/exec"; // Apps ScriptのURL function sendScan(userId) { fetch(SCRIPT_URL, { method: 'POST', body: new URLSearchParams({ userId: userId, room: ROOM_NAME }), mode: 'no-cors' }); document.getElementById("result").innerText = `送信しました：${userId}`; } const qrScanner = new Html5Qrcode("reader"); qrScanner.start({ facingMode: "environment" }, { fps: 10, qrbox: 250 }, (decodedText) => { sendScan(decodedText); }, (error) => {} ); </script> </body> </html>