<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>QRã‚¹ã‚­ãƒ£ãƒŠ - RoomBï¼ˆCROSTAFFï¼‰</title> <style> body { font-family: sans-serif; text-align: center; padding: 20px; } #reader { width: 300px; margin: auto; } #result { margin-top: 20px; font-size: 18px; } </style> </head> <body> <h1>QRã‚¹ã‚­ãƒ£ãƒŠ - RoomB</h1> <p>QRã‚³ãƒ¼ãƒ‰ã‚’ã‚«ãƒ¡ãƒ©ã«ã‹ã–ã—ã¦ãã ã•ã„ã€‚</p> <div id="reader"></div> <div id="result">ã‚¹ã‚­ãƒ£ãƒ³å¾…æ©Ÿä¸­...</div> <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script> <script> const ROOM_NAME = "RoomB"; // â† å›ºå®š const resultDiv = document.getElementById("result"); const reader = new Html5Qrcode("reader"); function sendToWebApp(userId) { const url = `YOUR_WEBAPP_URL_HERE?userId=${encodeURIComponent(userId)}&room=${encodeURIComponent(ROOM_NAME)}`; fetch(url) .then(res => res.text()) .then(response => { resultDiv.innerHTML = `âœ… é€ä¿¡æˆåŠŸ: ${userId} (${ROOM_NAME})`; }) .catch(err => { resultDiv.innerHTML = `âŒ é€ä¿¡å¤±æ•—: ${err}`; }); } function onScanSuccess(decodedText, decodedResult) { reader.stop(); // ä¸€æ™‚åœæ­¢ã—ã¦é‡è¤‡ã‚¹ã‚­ãƒ£ãƒ³é˜²æ­¢ resultDiv.innerHTML = `ğŸ“· èª­ã¿å–ã‚ŠæˆåŠŸ: ${decodedText}`; sendToWebApp(decodedText); setTimeout(() => { reader.start({ facingMode: "environment" }, { fps: 10, qrbox: 250 }, onScanSuccess); resultDiv.innerHTML = "ã‚¹ã‚­ãƒ£ãƒ³å¾…æ©Ÿä¸­..."; }, 3000); } Html5Qrcode.getCameras().then(devices => { if (devices && devices.length) { reader.start( { facingMode: "environment" }, { fps: 10, qrbox: 250 }, onScanSuccess ); } else { resultDiv.innerHTML = "ğŸ“· ã‚«ãƒ¡ãƒ©ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚"; } }).catch(err => { resultDiv.innerHTML = `ã‚«ãƒ¡ãƒ©èµ·å‹•ã‚¨ãƒ©ãƒ¼: ${err}`; }); </script> </body> </html>